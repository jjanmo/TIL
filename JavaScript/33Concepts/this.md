# this for beginner

## `this` ë€ ë¬´ì—‡ì¸ê°€?

ëˆ„êµ°ê°€ ì´ë ‡ê²Œ ë¬¼ì–´ë³¸ë‹¤ë©´ ì´ê²ƒì€ `ìš°ë¬¸`ì´ë¼ê³  ìƒê°í•œë‹¤. ì—¬ê¸°ì„œ `í˜„ë‹µ`ì„ í•˜ìë©´ `thisê°€ ì–´ë””ì„œ ì–´ë–»ê²Œ ì‚¬ìš©ë˜ë‚˜ìš”?`ë¼ê³  ë‹¤ì‹œ ë¬¼ì–´ë´ì•¼í•  ê²ƒì´ë‹¤. ì´ ë§ì´ ì´í•´ê°€ ëœë‹¤ë©´ thisë¥¼ ì–´ëŠ ì •ë„ ì•Œê³ ìˆë‹¤ê³  ë§í•  ìˆ˜ ìˆì§€ ì•Šì„ê¹Œ ì‹¶ë‹¤.

> ë¬¼ë¡  ë‚˜ë„ ì•„ì§ ì˜ëª¨ë¥¸ë‹¤.ğŸ˜… ê·¸ëŸ¬ë‹ˆê¹Œ ì´ì œë¶€í„° ì •ë¦¬í•´ë³´ì ğŸš€

-   [MDN ê³µì‹ë¬¸ì„œ](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this)ì˜ ë§ì„ ë¹Œë¦¬ìë©´,
    the value of `this` is determined by `how a function is called` ë¼ê³  ì¨ì ¸ìˆë‹¤. ì¦‰ `í•¨ìˆ˜ê°€ ì–´ë–»ê²Œ í˜¸ì¶œë˜ëŠ”ê°€`ì— ë”°ë¼ì„œ thisì˜ ê°’ì´ ê²°ì •ëœë‹¤ëŠ” ë§ì´ë‹¤.
-   ë‹¤ë¥¸ ë§ë¡œ í‘œí˜„í•˜ìë©´ thisì˜ ê°’ì€ `thisê°€ ë¶ˆë¦¬ëŠ” ë¬¸ë§¥`ì— ë”°ë¼ì„œ ë‹¤ë¥´ê²Œ í•´ì„ëœë‹¤ëŠ” ë§ì´ê¸°ë„ í•˜ë‹¤.
-   `this`ëŠ” ëŒ€ë¶€ë¶„ì˜ ê²½ìš°ì— íŠ¹ì • ê°ì²´ë¥¼ ê°€ë¥´í‚¨ë‹¤.

## í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ë°©ì‹ì— ë”°ë¥¸ this

### Dot notationì„ í†µí•œ ë©”ì„œë“œ í˜¸ì¶œ

> ê°€ì¥ ë§ì´ ì‚¬ìš©ë˜ëŠ” ë°©ì‹ìœ¼ë¡œ, ë³´í†µ ê°ì²´ ì•ˆì˜ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•  ë•Œ `.` ì„ í†µí•´ì„œ ê·¸ ê°ì²´ì˜ í”„ë¡œí¼í‹°ì— ì ‘ê·¼í•œë‹¤. ì´ ë•Œ `.` ì˜ `ë°”ë¡œ ì•ì˜ ê°ì²´`ê°€ `this`ì— í•´ë‹¹í•˜ëŠ” ê²ƒì´ ëœë‹¤. ì´ëŸ¬í•œ í˜•ì‹ì„ `Implicit Binding`ì´ë¼ê³  í•œë‹¤.

```javascript
function hello() {
    console.log(`Hello my name is ${this.name}`);
}

var yang = {
    name: 'jjanmo',
    greeting: hello,
};

var kim = {
    name: 'michael',
    greeting: hello,
    lee: {
        name: 'suji',
        greeting: hello,
    },
};

yang.greeting(); //Hello my name is jjanmo
kim.greeting(); //Hello my name is michael
kim.lee.greeting(); //Hello my name is suji
```

> ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì´ ê°€ì¥ ì¤‘ìš”í•˜ë‹¤. `yang.greeting()`ì—ì„œ `this.name`ì€ `yang.name`ê³¼ ê°™ë‹¤. ë˜ `kim.greeting()`ì—ì„œ `this.name`ì€ `kim.name`ê³¼ ê°™ë‹¤. ë§ˆì°¬ê°€ì§€ë¡œ `.`ì´ 2ê°œ ìˆë‹¤ê³  í•˜ë”ë¼ê³  í˜¸ì¶œí•œ ë©”ì„œë“œì˜ ë°”ë¡œ ì•ë¶€ë¶„ì— ë¬´ì—‡ì„ ì°¸ì¡°í•˜ëŠ”ì§€ë¥¼ í™•ì¸í•˜ë©´ ëœë‹¤. `kim.lee.greeting()`ì—ì„  `this.name`ì€ `lee.name`ê³¼ ê°™ë‹¤.

<br>

### call(), apply()ë¥¼ ì´ìš©í•œ í•¨ìˆ˜ í˜¸ì¶œ

> `call(), apply(), bind()`ëŠ” ëª¨ë“  í•¨ìˆ˜ ê°ì²´ì˜ í”„ë¡œí† íƒ€ì… ê°ì²´ì¸ `Function.prototype ê°ì²´ì˜ ë©”ì†Œë“œ`ì´ë‹¤. ì¦‰, ëª¨ë“  function ê°ì²´ëŠ” ì´ë¥¼ ê°€ì§€ê³  ìˆë‹¤.

> `ëª…ì‹œì ì¸`ì´ë¼ëŠ” `explicit`ì˜ ëœ»ì²˜ëŸ¼ call()ê³¼ apply()ë©”ì†Œë“œë¥¼ ì´ìš©í•´ì„œ thisì— ëª…ì‹œì ìœ¼ë¡œ íŠ¹ì •ê°’ì„ ë°”ì¸ë”©í•˜ê¸° ë•Œë¬¸ì— `Explicit Binding`ì´ë¼ê³  í•œë‹¤.

> `call(), apply()`ì˜ ëª¨ë‘ ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ì€ í•¨ìˆ˜ í˜¸ì¶œì´ë‹¤. ë‹¨ì§€ thisì™€ ë¬¶ì¼ ê°ì²´ë¥¼ ëª…ì‹œì ì¸ ì²«ë²ˆì§¸ ì¸ìë¡œì„œ ì•Œë ¤ì£¼ëŠ” ê²ƒë¿ì´ë‹¤.

|          |                  apply()                   |                     call()                     |                                                             bind()                                                             |
| :------: | :----------------------------------------: | :--------------------------------------------: | :----------------------------------------------------------------------------------------------------------------------------: |
|  syntax  |      func.apply(thisArg, [argsArray])      |   func.call(thisArg[, arg1[, arg2[, ...]]])    |                                            func.call(thisArg[, arg1[, arg2[, ...]]]                                            |
|   arg1   |         thisì™€ ë¬¶ì¼(ë°”ì¸ë”©í• ) ê°ì²´         |           thisì™€ ë¬¶ì¼(ë°”ì¸ë”©í• ) ê°ì²´           |                                                   thisì™€ ë¬¶ì¼(ë°”ì¸ë”©í• ) ê°ì²´                                                   |
|   arg2   |             ë°°ì—´ 1ê°œ(ìœ ì‚¬ë°°ì—´)             |                  ê°ê°ì˜ ê°’ë“¤                   |                                                          ê°ê°ì˜ ê°’ë“¤                                                           |
| ì‘ë™ë°©ì‹ | thisë¡œ ì§€ì •í•œ ê°’ê³¼ ì¸ìˆ˜ë¡œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. | thisë¡œ ì§€ì •í•œ ê°’ê³¼ ì¸ìˆ˜(ë“¤)ë¡œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œë‹¤. | thisë¡œ ì§€ì •í•œ ê°’ê³¼ ì¸ìˆ˜(ë“¤)ë¡œ **ìƒˆë¡œìš´ í•¨ìˆ˜ë¥¼ ìƒì„±**í•œë‹¤. ë°”ë¡œ í˜¸ì¶œí•˜ì§€ëŠ” ì•ŠëŠ”ë‹¤. í˜¸ì¶œí•˜ê³ ì í•œë‹¤ë©´ ëª…ì‹œì ìœ¼ë¡œ í˜¸ì¶œí•´ì¤˜ì•¼í•œë‹¤. |

> arg1ì´ ì—†ëŠ” ê²½ìš° `ì „ì—­ê°ì²´(window)`ì— `thisë¥¼ ë°”ì¸ë”©`í•œë‹¤.

```javascript
this.number = 55; //1.this? window

var foo = {
    number: 100,
    get() {
        console.log(this.number);
    },
};

foo.get(); //2. this? foo / 100

var bar = foo.get;
bar(); //3. this? window / 55

var baz = bar.bind(foo);
baz(); //4. this? foo / 100
```

> 1ë²ˆì˜ ê²½ìš° ì „ì—­ì—ì„œ thisë¥¼ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— thisëŠ” windowë¥¼ ë§í•œë‹¤.(ì—„ê²©ëª¨ë“œ ì•„ë‹Œ ê²½ìš°)

> 2ë²ˆì—ì„œ `dot notation`ì„ í†µí•´ì„œ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí–ˆê¸° ë•Œë¬¸ì— `.` ë°”ë¡œ ì•ì˜ ê°ì²´ì¸ `foo`ê°€ `this`ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

> 3ë²ˆì€ ë³€ìˆ˜ barì— fooì•ˆì˜ getë©”ì†Œë“œë¥¼ í• ë‹¹í•˜ì˜€ì§€ë§Œ, ì‹¤ì œë¡œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì€ baz()ë¡œ, `ì „ì—­ì—ì„œ í˜¸ì¶œ`í–ˆê¸° ë•Œë¬¸ì— ì—¬ê¸°ì„œ `this`ëŠ” `window`ë¥¼ ì˜ë¯¸í•˜ê²Œ ëœë‹¤.

> fooì•ˆì˜ number í”„ë¡œí¼í‹°ê°€ ì¶œë ¥ë˜ê²Œ í•˜ê³ ì í•œë‹¤ë©´, **thisë¥¼ ë°”ì¸ë”©**ì‹œì¼œì¤˜ì•¼í•œë‹¤. ì´ëŸ° ê²½ìš° `bar.bind(foo)`ì‹ìœ¼ë¡œ ë°”ì¸ë”©ì‹œì¼œ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. ì´ ë•Œì˜ `this`ëŠ” `foo`ë¥¼ ì˜ë¯¸í•˜ê²Œ ë˜ê³  ì´ë¥¼ ëª…ì‹œì ìœ¼ë¡œ í˜¸ì¶œí•´ì¤˜ì•¼ ì œëŒ€ë¡œ ëœ ê²°ê³¼ì¸ `100`ì´ ì¶œë ¥ëœë‹¤.

<br>

### new í‚¤ì›Œë“œë¥¼ í†µí•œ í•¨ìˆ˜ í˜¸ì¶œ

> ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ newì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ëŠ” ê²½ìš°, **ìƒˆë¡œìš´ ê°ì²´ë¥¼ ìƒì„±**í•˜ì—¬ ê·¸ ìƒˆë¡œìš´ ê°ì²´ì™€ `this`ë¥¼ ë¬¶ëŠ”ë‹¤. ê·¸ë˜ì„œ `new binding`ì´ë¼ê³  ëª…ëª…í•œë‹¤.

```javascript
function foo(name) {
    this.name = name;
}

var jjanmo = new foo('jjanmo');
console.log(jjanmo); // { name : 'jjanmo' }
```

> `newì—°ì‚°ì`ë¥¼ ì‚¬ìš©í•˜ì—¬ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê²Œ ë˜ë©´ ìˆ¨ê²¨ì§„ 2ê°€ì§€ê°€ ë‚˜íƒ€ë‚˜ê²Œ ëœë‹¤. ì²«ë²ˆì§¸ëŠ” newì—°ì‚°ìì— ì˜í•´ì„œ `ìƒˆë¡œìš´ ë¹ˆê°ì²´({})`ê°€ ìƒì„±ëœë‹¤. ê·¸ `ë¹ˆê°ì²´`ì— `thisë¥¼ ë°”ì¸ë”©`í•œë‹¤. ì´ ë•Œ í˜¸ì¶œë˜ëŠ” í•¨ìˆ˜ë¥¼ `ìƒì„±ìí•¨ìˆ˜`ë¼ê³  í•œë‹¤. ë‘ë²ˆì§¸ëŠ” ìƒì„±ìí•¨ìˆ˜ëŠ” íŠ¹ë³„í•˜ê²Œ returnê°’ì´ ì—†ì–´ë„ `this`ë¥¼ ë°˜í™˜í•œë‹¤. ë§Œì•½ì— íŠ¹ì •ê°’ìœ¼ë¡œ returnê°’ì„ ì§€ì •í•´ì¤€ë‹¤ë©´ ê·¸ ì§€ì •ê°’ì´ ë°˜í™˜ë˜ê¸°ëŠ”í•˜ë‚˜ ê·¸ í•¨ìˆ˜ëŠ” ìƒì„±ìí•¨ìˆ˜ì˜ ì—­í• ì„ ìˆ˜í–‰í•˜ì§€ ëª»í•˜ê²Œ ëœë‹¤. ì´ë ‡ê²Œ newì—°ì‚°ì(ìƒì„±ìí•¨ìˆ˜)ë¥¼ í†µí•˜ë©´ `ìƒˆë¡œìš´ ê°ì²´`ê°€ ìƒì„±ë˜ëŠ”ë° ì´ë¥¼ `instance`ë¼ê³  í•œë‹¤.

> ì‚¬ì‹¤ `ìƒì„±ìí•¨ìˆ˜`ë¼ í•¨ì€ ìœ„ì˜ í•¨ìˆ˜ì¸ `foo`ê°€ ì•„ë‹ˆë¼ **í˜¼ë€ì„ ë°©ì§€í•˜ê¸°ìœ„í•´ì„œ** ì¼ë°˜ì ìœ¼ë¡œ `ì²«ê¸€ì`ë¥¼ `ëŒ€ë¬¸ì`ë¡œ ì‘ì„±í•œë‹¤.`(Foo)` í•˜ì§€ë§Œ newì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ ëŒ€ë¬¸ìì— ìƒê´€ì—†ì´ ê°™ì€ ë°©ì‹ìœ¼ë¡œ ì‘ë™í•˜ê¸´í•œë‹¤.

```javascript
function Movie(title, released) {
    this.title = title;
    this.released = released;
}

var parasite = new Movie('ê¸°ìƒì¶©', 2019);
console.log(parasite); //MovieÂ {title: "ê¸°ìƒì¶©", released: 2019}
var darkknight = new Movie('darkknight', 2008);
console.log(darkknight); //MovieÂ {title: "darkknight", released: 2008}
```

### ì¼ë°˜ì ì¸ í•¨ìˆ˜ í˜¸ì¶œ(ë‹¨ìˆœí˜¸ì¶œ)

> ì—„ê²©ëª¨ë“œê°€ ì•„ë‹Œ ê²½ìš°, `this`ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ `ì „ì—­ê°ì²´`ë¥¼ ë‚˜íƒ€ë‚¸ë‹¤.

> ì „ì—­ê°ì²´ë€ ë¸Œë¼ìš°ì €ì—ì„œëŠ” `window ê°ì²´`ì´ê³  nodeì—ì„œëŠ” `global ê°ì²´` ë¥¼ ì˜ë¯¸í•œë‹¤.

```javascript
console.log(this === window); //true

var number = 100;
console.log(this.number); //100
console.log(window.number); //100
```

```javascript
var number = 100;

function foo() {
    var number = 55;
    console.log(this.number);
}

foo(); //this === window ì´ê³  100 ì¶œë ¥
```

```javascript
var movie = 'zootopia';

var obj = {
    movie: 'lionking',
    getMovie() {
        console.log(this.movie);
    },
};

setTimeout(obj.getMovie, 1000); //zootopia
```

> ì½œë°±í•¨ìˆ˜ ì•ˆì—ì„œ í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ë©´ ì–´ë–»ê²Œ ë ê¹Œ? `lionking`ì´ë¼ëŠ” ì˜í™”ê°€ ì°íˆê¸¸ ì˜ˆìƒí–ˆì§€ë§Œ ì‹¤ì œê°’ì€ `zootopia`ì´ë‹¤. `obj.getMovie` ë¼ëŠ” ë©”ì†Œë“œì˜ ì°¸ì¡°ê°’ë§Œì„ ì½œë°±ìœ¼ë¡œ ë„£ì–´ì¤€ ê²ƒì´ê³  ì‹¤ì œë¡  setTimeout()ê°€ `obj.getMovie`ë¥¼ `callback()`ì´ë¼ê³  í˜¸ì¶œí•˜ê¸° ë•Œë¬¸ì— thisëŠ” `ì „ì—­ê°ì²´`ì™€ ë°”ì¸ë”©ëœë‹¤.

```javascript
var number = 10;

var obj = {
    number: 55,
    foo() {
        console.log(this.number); //1
        function bar() {
            console.log(this.number); //2
        }
        bar();
    },
};

obj.foo(); //output? 1-55 2-10
```

> ë‚´ì¥í•¨ìˆ˜ì¸ `bar()`ëŠ” í˜¸ì¶œí•˜ëŠ” ë¶€ë¶„ì´ `objê°ì²´ ì•ˆ`ì— ì¡´ì¬í•œë‹¤. ì¦‰ ê·¸ ì•ˆì—ì„œ í˜¸ì¶œí•˜ê¸° ë•Œë¬¸ì— ê·¸ê²ƒë§Œìœ¼ë¡œ thisê°€ ê²°ì •ëœë‹¤. `foo()`ëŠ” dot notationì— ì˜í•´ì„œ thisëŠ” ë°”ë¡œ ì• ê°ì²´ì¸ `obj`ë¥¼ ê°€ë¥´í‚¨ë‹¤. **í•¨ìˆ˜ë¥¼ ì–´ë–»ê²Œ í˜¸ì¶œí•˜ëŠ”ëƒ**ì— objì•ˆì— ìœ„ì¹˜ì—í•œ thisê°’ì´ ë‹¬ë¼ì§€ê²Œ ëœë‹¤.

#### use strict mode(ì—„ê²©ëª¨ë“œ)ì—ì„œì˜ this

> ì—„ê²©ëª¨ë“œë€ ì¼ë°˜ì ìœ¼ë¡œ ì¼ì–´ë‚˜ëŠ” ë²„ê·¸ë¥¼ ë°©ì§€í•˜ê¸° ìœ„í•´ì„œ ì‚¬ìš©í•˜ëŠ” ëª¨ë“œë¥¼ ë§í•œë‹¤. ì—¬ê¸°ì„œëŠ” thisê°€ windowë¥¼ ê°€ë¥´í‚¤ì§€ ì•Šê³  `this === undefined`ë¥¼ ë§í•œë‹¤.

### Arrow Function(í™”ì‚´í‘œí•¨ìˆ˜)ì—ì„œì˜ this

> í™”ì‚´í‘œí•¨ìˆ˜ì—ì„œëŠ” ì§€ê¸ˆê¹Œì§€ ì‚´í´ë´¤ë˜ thisì™€ëŠ” ì•½ê°„ ë‹¤ë¥¸ ì–‘ìƒì´ ë³´ì—¬ì§„ë‹¤. ì§€ê¸ˆê¹Œì§€ì˜ thisëŠ” í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ëŠ” ìƒí™©ì— ë”°ë¼ì„œ ë™ì ìœ¼ë¡œ ê·¸ ì˜ë¯¸ê°€ ê²°ì •ë˜ì—ˆë‹¤. í•˜ì§€ë§Œ í™”ì‚´í‘œí•¨ìˆ˜ì—ì„œì˜ thisëŠ” ì–¸ì œë‚˜ ì •ì ìœ¼ë¡œ ê²°ì •ëœë‹¤. ì¦‰ í™”ì‚´í‘œí•¨ìˆ˜ì˜ thisëŠ” `í™”ì‚´í‘œí•¨ìˆ˜ì˜ ìƒìœ„ ìŠ¤ì½”í”„ì˜ this`ë¥¼ ë”°ë¥´ê²Œëœë‹¤. ì´ëŸ° ì´ìœ ë¡œ í™”ì‚´í‘œí•¨ìˆ˜ëŠ” `ìì‹ ë§Œì˜ this`ê°€ ì—†ë‹¤ê³  ë§í•œë‹¤.

> ì´ë ‡ê²Œ thisì— ë°”ì¸ë”©í•˜ëŠ” í˜•ì‹ì„ `Lexical binding`ì´ë¼ê³  ë¶€ë¥¸ë‹¤.(`Lexical Environment`ì™€ ìœ ì‚¬)

> ìì„¸í•œ ë¶€ë¶„ì€ [í™”ì‚´í‘œí•¨ìˆ˜í¸](arrowfunction.md)ì—ì„œ ê³„ì†ëœë‹¤.

# Ref

-   [ë°”ë‹ë¼ì½”ë”© this ì‹œë¦¬ì¦ˆ](https://www.youtube.com/watch?v=ayyuU0xdbIU&t=304s)

-   [Understanding the "this" keyword, call, apply, and bind in JavaScript](https://tylermcginnis.com/this-keyword-call-apply-bind-javascript/)

-   [í•¨ìˆ˜ í˜¸ì¶œ ë°©ì‹ì— ì˜í•´ ê²°ì •ë˜ëŠ” this](https://poiemaweb.com/js-this)

-   [Function.prototype.apply()](https://developer.mozilla.org/ko/docs/Web/JavaScript/Reference/Global_Objects/Function/apply)

-   [ìë°”ìŠ¤í¬ë¦½íŠ¸ this ë°”ì¸ë”© ìš°ì„ ìˆœìœ„](http://jeonghwan-kim.github.io/2017/10/22/js-context-binding.html)
