# 웹팩이 필요한 이유 / 등장 배경

[1] 파일단위의 자바스크립트 모듈 관리의 필요성

자바스크립트에서 모듈이라는 개념을 문법적으로 지원한 것은 ES2015(ES6)부터이다 그전에는 이 모듈을 어떻게 사용해왔는지를 알아보면 webpack이 등장하게 된 이유, webpack이 필요했던 이유에 대해서 알수있다.

1. index.html에 여러개의js파일을 로드하여 사용하였다.
   => 각각의 js파일에 있는 변수들이 모두 전역에 노출되어 전역공간의 오염을 야기한다.

<이러한 것을 극복하기 위한 방편으로 나온 것들!> 2) IIFE방식의 모듈
=> 자바스크립트는 기본적으로 함수스코프를 지니고 있기때문에 이를 이용한 방법으로 즉시실행함수로 전체 파일을 랩핑하여 사용하였다. 이렇게 되면 각각의 변수는 전역에 노출되지않고 각각의 즉시실행함수의 스코프를 갖게 되었다.
=> 이러한 방식을 적극적으로 이용한 것이 Common.js와 AMD이다.

Common.js는 주로 Node.js에서 사용한 것으로export를 통해서 내보내고(모듈을생성) require라는 키워드로 받아서 사용하는 방식이다.
AMD는 비동기로 로딩되는 환경에서 모듈을 사용하는 것을 목표로 만들어진 방식이다.

3. 이후 공식적으로 자바스크립트에서도 import ,export라는 키워드를 통해서 모듈을 지원하게 되었다, 그럼에도 모든 브라우저에서 이것을 지원하지않기 때문에 이를 변형시켜서 사용해야만 했다,
   이를 모든 브라우져에서 사용하고 싶어서 나온 것이 웹팩이다!

[2] 웹개발 작업 자동화 도구
프런트엔드 환경에서 개발할때 가장 많이 반복하는 행동이 수정후 리프레쉬 수정 후 리프레쉬 ....
이외에도 HTML,CSS,JS압축 및 CSS 전처리기 등등 이러한 모든 과정을 하나하나 셋팅해줘야만 했다.
=> 이러한 것을 자동화시켜주는 도구가 필요했다
=> 생산성 향상

[3] 웹어플리케이션의 성능 향상
웹이 랜더링 되기 위해선 많은 파일들(html css js 이미지 등)이 로딩되어야만 한다. 이는 서버와의 접속이 많아진다는 의미이다. 서버와의 접속은 매우 비싼 작업이기에 접속이 많아질수록 웹페이지의 성능은 하락하게 된다. 성능이 하락하면 단적으로 페이지가 늦게 랜더링된다. 그러면 이를 이용하는 사용자는 이 페이지를 떠날 확률이 높아진다.

그렇기 때문에 서버와의 접속을 최소화시키기위해선 최소한의 파일을 로드해야하고 파일이 필요한 시점에 파일을 로드시켜주는 효율성이 필요했다.

이를 위해서 웹팩과 같이 많은 수의 파일을 적은 파일로 번들링하는 번들러가 필요해졌다.

[참고](https://joshua1988.github.io/webpack-guide/motivation/why-webpack.html)

# 웹팩 필수적인 옵션

`--mode` : "development" / "production" / "none"
`--entry` : 모듈의 시작점의 경로를 지정(자바스크립트라고 한다면, 자바스크립트 파일의 시작점)
`--output` : 엔트리들을 통해서 하나로 bundling한 후 그 결과를 합쳐진 경로를 지정

위 3가지 옵션을 cli 명령어로 줄 수 있다.

`node_modules/.bin/webpack --mode development --entry ./scr/app.js --output dist/main.js`

-> 이후 번들링된 main.js를 html파일에 로딩하여 결과를 확인한다.
-> 웹팩은 여러개의 모듈을 하나의 파일로 만들어주는 역할을 한다.

-> 현재는 3개의 옵셥만을 지정했지만, 실제로는 꽤 많은 옵션을 지정할 것이기 때문에 webpack.config.js라는 파일을 만들어서 각각의 옵션을 관리한다.(매번 명령어로 옵션을 지정하기 불편)

node의 모듈시스템 지정 형식으로 옵션을 지정한다

entry : {
main : ~~
},
output : {
path : output directory명을 입력(절대경로를 입력)
filename : 번들링된 파일명 입력('[name].js')
-> [name]이라고 지정한 이유는 output 결과물을 동적으로 만들어낼수있다.
}

package.json의 scripts의 명령어를 이용해서 실행 할수있다
build : "webpack"을 사용하면 npm은 현재프로젝트의 node_module안에 webpack관련 명령어를 찾아서 실행을 하게 된다.
그렇게 되면 webpack은 기본 설정파일인 webpack.config.js를 읽어서 번들링 작업을 실행한다.

✔
entry : option 3가지가 들어올 수 있음
1)string : 문자열로 들어오는 경우 시작시 들어오는 모듈로 해석
2)Array 3) object
=>
ouput :
[name].js라고 하면
여기서 name은 기본값이 main이고 entry가 object로 들어오는 경우 그 키값이 name에 해당하는 번들링파일을 만든다.
